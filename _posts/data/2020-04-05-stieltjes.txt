expectation is a core concept in statistics, and it is no surprise that any student interested in probability and statistics may have seen some expression like this: in the continuous case, the expression is most commonly presented in textbooks as follows: however, this variant might throw you off, which happened to me when i first came across it a few weeks ago: i mean, my calculus is rusty, but it kind of makes sense: the probably density function is, after all, a derivative of the cumulative density function, and so notationally there is some degree of coherency here. but still, this definition of the expected value threw me off quite a bit. what does it mean to integrate over a distribution function instead of a variable? after some research, however, the math gurus at stack exchange provided me with an answer. so here is a brief summary of my findings. the integral that we all know of is called the riemann integral. the confusing integral is in fact a generalization of the riemann integral, known as the riemann stieltjes integral . there is an even more general interpretation of integrals called the lebesgue integral, but we won't get into that here. first, let's take a look at the definition. the definition of the integral is actually a lot simpler than what one might imagine. here, is a value that falls within the interval . in short, we divide the interval of integration into infinitesimal pieces. imagine this process as being similar to what we learn in calculus 101, where integrals are visualized as an infinite sum of skinny rectangles as the limit approaches zero. essentially, we are doing the same thing, except that now, the base of each rectangle is defined as the difference between and instead of and as is the case with the riemann integral. another way to look at this is to consider the integral as calculating the area beneath the curve represented by the parameterization . this connection becomes a bit more apparent if we consider the fact that the riemann integral is calculating the area beneath the curve represented by . in other words, the riemann stieltjes integral can be seen as dealing with a change of variables. you might be wondering why the riemann stieltjes integral is necessary in the first place. after all, the definition of expectation we already know by heart should be enough, shouldn't it? to answer this question, consider the following function: this cumulative mass function is obviously discontinuous since it is a step wise function. this also means that it is not differentiable; hence, we cannot use the definition of expectation that we already know. however, this does not mean that the random variable does not have an expected value. in fact, it is possible to calculate the expectation using the riemann stieltjes integral quite easily, despite the discontinuity! the integral we wish to calculate is the following: therefore, we should immediately start visualizing splitting up the domain of integration, the real number line, into infinitesimal pieces. each box will be of height and width . in the context of the contrived example, this definition makes the calculation extremely easy, since equals zero in all locations but the jumps where the discontinuities occur. in other words, we can easily extend this idea to calculating things like variance or other higher moments. a more realistic example might be the dirac delta function. consider a constant random variable . in this case, we can imagine the probability density function as a literal spike in the sense that the pdf will peak at and be zero otherwise. the cumulative density function will thus exhibit a discontinuous jump from zero to 1 at . and by the same line of logic, it is easy to see that the expected value of this random variable is , as expected. although this is a rather boring example in that the expectation of a constant is of course the constant itself, it nonetheless demonstrates the potential applications of riemann stieltjes. i hope you enjoyed reading this post. lately, i have been busy working on some interesting projects. there is a lot of blogging and catching up to do, so stay posted for exciting updates to come!